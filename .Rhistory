pivot_wider(names_from = year, values_from = avgCount)
larvalTypeTable3 <- larvalTypeTable %>%
group_by(year, larvalType, Site) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount) %>%
arrange(larvalType) %>%
select(larvalType, everything())
larvalTypeTable3
kable(larvalTypeTable2, align = "l")
kable(larvalTypeTable3, align = "l", format = "latex", booktabs = TRUE) %>%
pack_rows(index = table(larvalTypeTable3$Site))
larvalTypeTable <- dfLarvalType
larvalTypeTable$year <- format(larvalTypeTable$Date, "%Y")
larvalTypeTable$year <- factor(larvalTypeTable$year)
larvalTypeTable$larvalType <- factor(larvalTypeTable$larvalType)
levels(larvalTypeTable$larvalType) <- c("D-hinge", "Veliger")
larvalTypeTable2 <- larvalTypeTable %>%
group_by(year, larvalType) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount)
larvalTypeTable3 <- larvalTypeTable %>%
group_by(year, larvalType, Site) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount) %>%
arrange(larvalType) %>%
select(larvalType, everything())
larvalTypeTable3
kable(larvalTypeTable2, align = "l")
kable(larvalTypeTable3, align = "l", format = "pipe", booktabs = TRUE) %>%
pack_rows(index = table(larvalTypeTable3$Site))
larvalTypeTable <- dfLarvalType
larvalTypeTable$year <- format(larvalTypeTable$Date, "%Y")
larvalTypeTable$year <- factor(larvalTypeTable$year)
larvalTypeTable$larvalType <- factor(larvalTypeTable$larvalType)
levels(larvalTypeTable$larvalType) <- c("D-hinge", "Veliger")
larvalTypeTable2 <- larvalTypeTable %>%
group_by(year, larvalType) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount)
larvalTypeTable3 <- larvalTypeTable %>%
group_by(year, larvalType, Site) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount) %>%
arrange(larvalType) %>%
select(larvalType, everything())
larvalTypeTable3
kable(larvalTypeTable2, align = "l")
kable(larvalTypeTable3, align = "l", format = "pipe", booktabs = TRUE) %>%
pack_rows(index = table(larvalTypeTable3$larvalType))
larvalTypeTable <- dfLarvalType
larvalTypeTable$year <- format(larvalTypeTable$Date, "%Y")
larvalTypeTable$year <- factor(larvalTypeTable$year)
larvalTypeTable$larvalType <- factor(larvalTypeTable$larvalType)
levels(larvalTypeTable$larvalType) <- c("D-hinge", "Veliger")
larvalTypeTable2 <- larvalTypeTable %>%
group_by(year, larvalType) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount)
larvalTypeTable3 <- larvalTypeTable %>%
group_by(year, larvalType, Site) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount) %>%
arrange(larvalType) %>%
select(larvalType, everything())
larvalTypeTable3
kable(larvalTypeTable2, align = "l")
kable(larvalTypeTable3, align = "l", format = "HTML", booktabs = TRUE) %>%
pack_rows(index = table(larvalTypeTable3$larvalType))
larvalTypeTable <- dfLarvalType
larvalTypeTable$year <- format(larvalTypeTable$Date, "%Y")
larvalTypeTable$year <- factor(larvalTypeTable$year)
larvalTypeTable$larvalType <- factor(larvalTypeTable$larvalType)
levels(larvalTypeTable$larvalType) <- c("D-hinge", "Veliger")
larvalTypeTable2 <- larvalTypeTable %>%
group_by(year, larvalType) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount)
larvalTypeTable3 <- larvalTypeTable %>%
group_by(year, larvalType, Site) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount) %>%
arrange(larvalType) %>%
select(larvalType, everything())
larvalTypeTable3
kable(larvalTypeTable2, align = "l")
kable(larvalTypeTable3, align = "l", format = "html", booktabs = TRUE) %>%
pack_rows(index = table(larvalTypeTable3$larvalType))
larvalTypeTable <- dfLarvalType
larvalTypeTable$year <- format(larvalTypeTable$Date, "%Y")
larvalTypeTable$year <- factor(larvalTypeTable$year)
larvalTypeTable$larvalType <- factor(larvalTypeTable$larvalType)
levels(larvalTypeTable$larvalType) <- c("D-hinge", "Veliger")
larvalTypeTable2 <- larvalTypeTable %>%
group_by(year, larvalType) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount)
larvalTypeTable3 <- larvalTypeTable %>%
group_by(year, larvalType, Site) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount) %>%
arrange(larvalType) %>%
select(larvalType, everything())
larvalTypeTable3
kable(larvalTypeTable2, align = "l")
kable(larvalTypeTable3, align = "l", format = "html", booktabs = TRUE) %>%
pack_rows(index = table(larvalTypeTable3$Site))
larvalTypeTable <- dfLarvalType
larvalTypeTable$year <- format(larvalTypeTable$Date, "%Y")
larvalTypeTable$year <- factor(larvalTypeTable$year)
larvalTypeTable$larvalType <- factor(larvalTypeTable$larvalType)
levels(larvalTypeTable$larvalType) <- c("D-hinge", "Veliger")
larvalTypeTable2 <- larvalTypeTable %>%
group_by(year, larvalType) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount)
larvalTypeTable3 <- larvalTypeTable %>%
group_by(year, larvalType, Site) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount) %>%
arrange(larvalType) %>%
select(larvalType, everything())
larvalTypeTable3
kable(larvalTypeTable2, align = "l")
kable(larvalTypeTable3, align = "l", format = "html", booktabs = TRUE) %>%
pack_rows(index = table(fct_inorder(larvalTypeTable3$Site)))
larvalTypeTable <- dfLarvalType
larvalTypeTable$year <- format(larvalTypeTable$Date, "%Y")
larvalTypeTable$year <- factor(larvalTypeTable$year)
larvalTypeTable$larvalType <- factor(larvalTypeTable$larvalType)
levels(larvalTypeTable$larvalType) <- c("D-hinge", "Veliger")
larvalTypeTable2 <- larvalTypeTable %>%
group_by(year, larvalType) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount)
larvalTypeTable3 <- larvalTypeTable %>%
group_by(year, larvalType, Site) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount) %>%
arrange(larvalType) %>%
select(larvalType, everything())
larvalTypeTable3
kable(larvalTypeTable2, align = "l")
kable(larvalTypeTable3, align = "l", format = "html", booktabs = TRUE) %>%
pack_rows(index = table(fct_inorder(larvalTypeTable3$larvalType)))
larvalTypeTable <- dfLarvalType
larvalTypeTable$year <- format(larvalTypeTable$Date, "%Y")
larvalTypeTable$year <- factor(larvalTypeTable$year)
larvalTypeTable$larvalType <- factor(larvalTypeTable$larvalType)
levels(larvalTypeTable$larvalType) <- c("D-hinge", "Veliger")
larvalTypeTable2 <- larvalTypeTable %>%
group_by(year, larvalType) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount)
larvalTypeTable3 <- larvalTypeTable %>%
group_by(year, larvalType, Site) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount) %>%
arrange(larvalType) %>%
select(larvalType, everything())
larvalTypeTable3
kable(larvalTypeTable2, align = "l")
kable(larvalTypeTable3, align = "l", format = "latex", booktabs = TRUE) %>%
pack_rows(index = table(fct_inorder(larvalTypeTable3$larvalType)))
kable(larvalTypeTable3, align = "l", format = "pipe", booktabs = TRUE) %>%
pack_rows(index = table(fct_inorder(larvalTypeTable3$larvalType)))
kable(larvalTypeTable3, align = "l", format = "latex", booktabs = TRUE) %>%
pack_rows(index = table(fct_inorder(larvalTypeTable3$Site)))
kable(larvalTypeTable3, align = "l", format = "latex", booktabs = TRUE) %>%
pack_rows(index = table(fct_inorder(larvalTypeTable3$Site)))
kable(larvalTypeTable3, align = "l", format = "latex", booktabs = TRUE) %>%
pack_rows(index = table(fct_inorder(larvalTypeTable3$larvalType)))
larvalTypeTable3 <- larvalTypeTable %>%
group_by(year, larvalType, Site) %>%
summarise(avgCount = mean(avgCount)) %>%
mutate(avgCount = formatC(avgCount, digits = 2, format = "e")) %>%
pivot_wider(names_from = year, values_from = avgCount) %>%
arrange(larvalType) %>%
select(larvalType, everything())
kable(larvalTypeTable3, align = "l", format = "latex", booktabs = TRUE) %>%
pack_rows(index = table(fct_inorder(larvalTypeTable3$larvalType)))
summary(df)
# D
dfD <- df %>%
filter(larvalType == "D")
# D
dfD <- dfLarvalType %>%
filter(larvalType == "D")
dfD
# D
dfD <- dfLarvalType %>%
filter(larvalType == "D")
dfD$year <- year(Date)
# D
dfD <- dfLarvalType %>%
filter(larvalType == "D")
dfD$year <- format(dfLarvalType$Date, "%Y")
# D
dfD <- dfLarvalType %>%
filter(larvalType == "D")
dfD$year <- format(dfD$Date, "%Y")
dfD
dAOV <- aov(avgCount ~ year + Site, data = dfD)
summary(dAOV)
# D
dfD <- dfLarvalType %>%
filter(larvalType == "D")
dfD$year <- format(dfD$Date, "%Y")
dfD
dAOV <- aov(avgCount ~ year + Site, data = dfD)
summary(dAOV)
# V
dfV <- dfLarvalType %>%
filter(larvalType == "V")
dfV$year <- format(dfV$Date, "%Y")
dfV
dAOV <- aov(avgCount ~ year + Site, data = dfV)
summary(dAOV)
# D
dfD <- dfLarvalType %>%
filter(larvalType == "D")
dfD$year <- format(dfD$Date, "%Y")
dAOV <- aov(avgCount ~ year + Site, data = dfD)
summary(dAOV)
dAOV %>%
tidy() %>%
kable()
# V
dfV <- dfLarvalType %>%
filter(larvalType == "V")
dfV$year <- format(dfV$Date, "%Y")
dAOV <- aov(avgCount ~ year + Site, data = dfV)
summary(dAOV)
# D
dfD <- dfLarvalType %>%
filter(larvalType == "D")
dfD$year <- format(dfD$Date, "%Y")
dAOV <- aov(avgCount ~ year + Site, data = dfD)
summary(dAOV)
dAOV %>%
tidy() %>%
kable(align = "l")
# V
dfV <- dfLarvalType %>%
filter(larvalType == "V")
dfV$year <- format(dfV$Date, "%Y")
vAOV <- aov(avgCount ~ year + Site, data = dfV)
summary(dAOV)
vAOV %>%
tidy() %>%
kable(align = "l")
# D
dfD <- dfLarvalType %>%
filter(larvalType == "D")
dfD$year <- format(dfD$Date, "%Y")
dAOV <- aov(avgCount ~ year + Site, data = dfD)
summary(dAOV)
dAOV %>%
tidy() %>%
kable(align = "l")
# V
dfV <- dfLarvalType %>%
filter(larvalType == "V")
dfV$year <- format(dfV$Date, "%Y")
vAOV <- aov(avgCount ~ year + Site, data = dfV)
summary(vAOV)
vAOV %>%
tidy() %>%
kable(align = "l")
# D
dfD <- dfLarvalType %>%
filter(larvalType == "D")
dfD$year <- format(dfD$Date, "%Y")
dAOV <- aov(avgCount ~ year + Site, data = dfD)
summary(dAOV)
dAOV %>%
tidy() %>%
kable(align = "l")
# V
dfV <- dfLarvalType %>%
filter(larvalType == "V")
dfV$year <- format(dfV$Date, "%Y")
vAOV <- aov(avgCount ~ year + Site, data = dfV)
summary(vAOV)
vAOV %>%
tidy() %>%
kable(align = "l") %>%
options(knitr.kable.NA = '')
# D
dfD <- dfLarvalType %>%
filter(larvalType == "D")
dfD$year <- format(dfD$Date, "%Y")
dAOV <- aov(avgCount ~ year + Site, data = dfD)
summary(dAOV)
dAOV %>%
tidy() %>%
kable(align = "l")
# V
dfV <- dfLarvalType %>%
filter(larvalType == "V")
dfV$year <- format(dfV$Date, "%Y")
vAOV <- aov(avgCount ~ year + Site, data = dfV)
summary(vAOV)
vAOV %>%
tidy() %>%
kable(align = "l", options(knitr.kable.NA = ''))
# D
dfD <- dfLarvalType %>%
filter(larvalType == "D")
dfD$year <- format(dfD$Date, "%Y")
dAOV <- aov(avgCount ~ year + Site, data = dfD)
summary(dAOV)
dAOV %>%
tidy() %>%
kable(align = "l")
# V
dfV <- dfLarvalType %>%
filter(larvalType == "V")
dfV$year <- format(dfV$Date, "%Y")
vAOV <- aov(avgCount ~ year + Site, data = dfV)
summary(vAOV)
vAOV %>%
tidy() %>%
kable(align = "l")
View(larvalTypeTable)
larvalBox <- larvalTypeTable %>%
ggplot(aes(x = year, y = avgCount)) +
geom_boxplot() +
geom_jitter() +
facet_grid(.~year)
larvalBox <- larvalTypeTable %>%
ggplot(aes(x = year, y = avgCount)) +
geom_boxplot() +
geom_jitter() +
facet_grid(.~year)
larvalBox
larvalBox <- larvalTypeTable %>%
ggplot(aes(x = year, y = avgCount)) +
geom_boxplot() +
geom_jitter() +
facet_grid(.~larvalType)
larvalBox
larvalBox <- larvalTypeTable %>%
ggplot(aes(x = year, y = avgCount)) +
geom_boxplot() +
geom_jitter() +
facet_grid(.~larvalType, scales = "free")
larvalBox
larvalBox <- larvalTypeTable %>%
ggplot(aes(x = year, y = avgCount)) +
geom_boxplot() +
geom_jitter() +
facet_grid(.~larvalType, scales = "free_y")
larvalBox
larvalBox <- larvalTypeTable %>%
ggplot(aes(x = year, y = avgCount)) +
geom_boxplot() +
geom_jitter() +
facet_wrap(.~larvalType, scales = "free_y")
larvalBox
larvalBox <- larvalTypeTable %>%
ggplot(aes(x = year, y = avgCount)) +
geom_boxplot() +
geom_jitter() +
labs(x = "Larvae count", y = "Year")
facet_wrap(.~larvalType, scales = "free_y")
larvalBox
larvalBox <- larvalTypeTable %>%
ggplot(aes(x = year, y = avgCount)) +
geom_boxplot() +
geom_jitter() +
labs(x = "Year", y = "Larval Count")
facet_wrap(.~larvalType, scales = "free_y")
larvalBox
larvalBox <- larvalTypeTable %>%
ggplot(aes(x = year, y = avgCount)) +
geom_boxplot() +
geom_jitter() +
labs(x = "Year", y = "Larval Count") +
facet_wrap(.~larvalType, scales = "free_y")
larvalBox
summary(lm(larvalType["D"] ~ temp, data = larvalTypeTable))
View(dfD)
summary(lm(avgCount ~ temp, data = dfD))
summary(lm(avgCount ~ Temp, data = dfD))
summary(lm(avgCount ~ Temp, data = dfD))
summary(lm(avgCount ~ Sal, data = dfD))
summary(lm(avgCount ~ pH, data = dfD))
summary(lm(avgCount ~ Temp, data = dfD))
summary(lm(avgCount ~ Sal, data = dfD))
summary(lm(avgCount ~ pH, data = dfD))
summary(lm(avgCount ~ Temp, data = dfV))
summary(lm(avgCount ~ Sal, data = dfV))
summary(lm(avgCount ~ pH, data = dfV))
summary(lm(avgCount ~ Temp, data = dfD)) %>%
kable()
summary(lm(avgCount ~ Temp, data = dfD)) %>%
tidy() %>%
kable()
summary(lm(avgCount ~ Sal, data = dfD))
summary(lm(avgCount ~ pH, data = dfD))
summary(lm(avgCount ~ Temp, data = dfV))
summary(lm(avgCount ~ Sal, data = dfV))
summary(lm(avgCount ~ pH, data = dfV))
summary(lm(avgCount ~ Temp, data = dfD)) %>%
tidy() %>%
kable()
summary(lm(avgCount ~ Sal, data = dfD)) %>%
tidy() %>%
kable()
summary(lm(avgCount ~ pH, data = dfD)) %>%
tidy() %>%
kable()
summary(lm(avgCount ~ Temp, data = dfV)) %>%
tidy() %>%
kable()
summary(lm(avgCount ~ Sal, data = dfV)) %>%
tidy() %>%
kable()
summary(lm(avgCount ~ pH, data = dfV)) %>%
tidy() %>%
kable()
install.packages(mapview)
install.packages("mapview")
map <- leaflet(data = df) %>%
addTiles() %>%
addMarkers( lng = ~Site_Long, lat = ~Site_Lat)
mapshot(map, file = "~/Rplot.png")
?mapview
??mapview
mapview
knitr::opts_chunk$set(echo = FALSE)
require(tidyverse)
require(knitr)
require(kableExtra)
require(broom)
library(lubridate)
library(leaflet)
library(ggthemes)
library(mapview)
df <- read.csv("master_data.csv", stringsAsFactors = TRUE)
df$Date <- mdy(df$Date)
for (i in 1:nrow(df)) {
if (df[i, "Site"] == "LR") {
df[i, "Site_Lat"] = 43.07385
}
}
map <- leaflet(data = df) %>%
addTiles() %>%
addMarkers( lng = ~Site_Long, lat = ~Site_Lat)
mapshot(map, file = "~/Rplot.png")
webshot::install_phantomjs()
map <- leaflet(data = df) %>%
addTiles() %>%
addMarkers( lng = ~Site_Long, lat = ~Site_Lat)
mapshot(map, file = "~/Rplot.png")
map <- leaflet(data = df) %>%
addTiles() %>%
addMarkers( lng = ~Site_Long, lat = ~Site_Lat)
mapshot(map, file = "Rplot.png")
knitr::opts_chunk$set(echo = FALSE)
require(tidyverse)
require(knitr)
require(kableExtra)
require(papeR)
require(broom)
require(lubridate)
require(leaflet)
require(ggthemes)
require(mapview)
df <- read.csv("master_data.csv", stringsAsFactors = TRUE)
df$Date <- mdy(df$Date)
for (i in 1:nrow(df)) {
if (df[i, "Site"] == "LR") {
df[i, "Site_Lat"] = 43.07385
}
}
#converts all years into same year so that figures can show months
all_year <- function(x) {
year(x) <- 1
return(x)
}
# D
dfD <- dfLarvalType %>%
filter(larvalType == "D")
dfD$year <- format(dfD$Date, "%Y")
dAOV <- aov(avgCount ~ year + Site, data = dfD)
summary(dAOV)
anova(dAOV) %>%
#tidy() %>%
prettify() %>%
kable(align = "l")
install.packages("gtools")
install.packages(c("bit", "boot", "bslib", "callr", "data.table", "evaluate", "ggplot2", "knitr", "lubridate", "markdown", "Matrix", "modelr", "pkgload", "png", "R.utils", "raster", "rmarkdown", "roxygen2", "s2", "sass", "spData", "styler", "vctrs", "xfun"))
install.packages(c("bit", "boot", "bslib", "callr", "data.table", "evaluate", "ggplot2", "knitr", "lubridate", "markdown", "Matrix", "modelr", "pkgload", "png", "R.utils", "raster", "rmarkdown", "roxygen2", "s2", "sass", "spData", "styler", "vctrs", "xfun"))
install.packages(c("bit", "boot", "bslib", "callr", "data.table", "evaluate", "ggplot2", "knitr", "lubridate", "markdown", "Matrix", "modelr", "pkgload", "png", "R.utils", "raster", "rmarkdown", "roxygen2", "s2", "sass", "spData", "styler", "vctrs", "xfun"))
